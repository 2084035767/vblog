---
title: 胡说| VIM 初级使用
date: 2022-8-26
categories:
  - 编程知识
tags:
  - Linux
---

:::tip

:::

## vim简介

vi简介
文本编辑器
文本编辑器是对纯文本文件进行编辑、查看、修改等操作的软件
Windows下的记事本程序就是一个典型的文本编辑器
Linux系统下，纯文本文件用来 编写程序、命令脚本、配置软件和管理系统等



vi编辑器
Linux下文本编辑器：
1、图形化界面如gedit, sublime
2、字符界面如vi/vim, Emacs, nano
vi编辑器是Linux系统中最常用的字符界面文本编辑工具
vi由加州大学伯克利分校BillJoy(sun创始人之一）开发
程序员必备十大代码编辑器中，vi/vim常年位居前列



vi编辑器
设计目的：不使用鼠标，方便快速的编辑文本
vi只能是编辑文本字符，不能进行排版、字体调整等(Office软件)
V没有图形化菜单，主要通过命令操作软件

vi简介
vim编辑器
vim是viimproved的简写
vim是vi编辑器的增强版
在UbuntuLinux中使用的是改进版的vim，通常也称为vi





vi 启动与退出

vi启动与退出
启动vi
1、打开终端
2、直接输入如下格式进入vi：
vi［文件名]
示例：
创建新文件：
vi newfile
打开已有文件：
vi/etc/passwd

vi启动与退出
退出vi
输入:wg可保存退出（:wg！强制保存并退出）
输入：g直接退出（原文件未修改）
输入：q！不保存文件，直接退出（原文件有修改）

vi 工作模式

vi工作模式
vi的工作状态分为三种模式
命令模式（commandmode）：输入命令，控制屏幕光标的移动：字符、字或行的删除
注意：命令不回显
插入模式(insertmode)：编辑文档文字输入、各种编辑
末行模式（lastlinemode）：转义模式文件保存或退出
设置编辑环境，如寻找字符串、列出行号...等



模式切换

（1）在操作系统提示符下键入vi，默认进入命令模式
（2）由命令模式进入输入方式，键入编辑命令，如：插入命令i
（3）由命令模式进入未行模式，只需键入冒号（：），每次只执行一条，执行完毕立即回到命令模式
（4）其他模式按ESC键，可到命令模式
（5）编辑模式和末行模式之间不能直接切换，须通过命令模式

vi基本应用

打开文件时，定位到指定位置处
（1）打开“/etc/passwd”文件并直接光标定位到第5行输入命令：vi+5/etc/passwd

（2）打开“/etc/passwd”文件，进入到含有某关键字的行，以“root”字串为关键字的行，输入命令:vi+/“root”/etc/passwd

编辑文件
1、进入编辑模式：
键入i，下方显示--插入
2、正常编辑一、行号、光标的设置
1、显示行号

OGPcai
末行模式下：:set number
或:set nu 取消行号:set nonu

2、移动光标
行移动
00或Home：光标移动到本行行首
$或End：光标移动到本行行尾
跳到指定的行［行号］G
：转到行号位置OG
：转到文件最后一行
：转到文件第一行
gg
屏幕滚动
ctrl + F
将屏幕向文件尾方向翻滚一整屏
将屏幕向文件，头；方向翻滚一整屏s/4/ictrl + B

二、文本操作（命令模式下

1、文本插入
进入文本编辑方式：

：插入当前字符前
插入当前字符后
在光标所在行之后新开一行
2、文本删除（命令模式）
X:删除光标处的单个字符
NX:删除光标处的n个字符
dd:删除当前行
ondd:删除从当前行起的行
3、恢复
u:取消上一次的编辑动作（可多次）



4、文本的搜索与替换
搜索：
查找wordo/word
1、命令模式下键入键，在窗口底部显示/，键入待搜索字符串，按回车从光标位置向下搜索
2、命令模式下键入？键，从光标位置向上搜索字符串n：继续向前查找（/和？方尚不同ON：与当前方尚相反的方尚尚前香查找

4、文本的搜索与替换
替换
os和S命令：
OS:用跟随在其后的字符串替换光标位置的字符
ons:用跟随在其后的字符串替换光标位置起的n个字符
oS:用跟随在其后的学符事替换当前行
onS：用跟随在其后的字符串替换当前行起的n行

4、文本的搜索与替换一末行模式
示例：
:s/this/hello
#将光标所在位置的this替换为hello

:s/this/hello/g
#将文件当前行this替换为hellc
：20s/this/hello/g#将文件第20行的所有this替换为hella
：1,30s/this/the/c#将文件第1行到第30行每行的第一个this
替换为the，替换前询问
：1,30s/this/the/g#将文件第1行到第30行的所有this替换为the

：1,$s/this/the/g#将文件所有行的所有this替换为the

5、文本的剪贴、复制、粘贴
示例常用命令：
yy：复制光标所在行
P：粘贴文本在光标处
dd：剪贴光标所在行的文本



6、常用的保存及退出命令：
：g一一原文未修改，不保存文件，直接退出vi
：q！一一不保存文件，强制退出“！”表示强制
性操作
:wg！一一强制保存文件并退出
:w一一保存并退出
:W保存当前文件
：W路径/文件名一一另存为一个新的文件相当于“另存为”功能

vi基本应用
多窗口编辑
（1）在vi中依次打开两个文件：
(1)输入命令vi文件名1，打开一个文件1
（2在已打开的文件1中，按【Esc】回到命令模式
输入命令：sp文件名2，同时打开这两个文件

（2）光标在两个窗口中的切换
(1）如果当前光标处于下面窗口的文件中，则单击
【Esc】一一>【Ctrl+w】一一>【k】/方向键t，使
光标定位到上面的窗口
如果当前光标处于上面窗口的文件中，则单击
【Esc】一一>【Ctrl+w】一一>【i】/方向键}，使光标定位到下面的窗口

全文复制
如果在编辑某个文件时，要将另一个窗口的文件全
部复制到当前文件中，命令模式下，操作：r被复制的文件名）区域复制

（1）打开某文件，光标移动到需要复制第一行
单击【ESC键，确保当前处于命令模式，再单
击组合键【Ctrl+v】
使用小键盘的上下左右方向键，进行区域选取

单击【Y】键结束区域选取
5光标移至目标位置，单击【P键实现区域复制在vi中实现与shell的交互
在vi进行文件编辑时，使用“！”命令来访
问Shell执行Shell命令的格式如下：:！ Shell命令
执行的结果将显示在vi中，单击【Enter】键，继续进行编辑工作